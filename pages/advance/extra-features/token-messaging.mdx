# How to build Secure Messaging between ERC721 NFT owners

1. Clone Token Messaging template from the [Template Center](https://github.com/SmartTokenLabs/TokenScript-Templates)

```sh copy
npx degit SmartTokenLabs/TokenScript-Templates/erc-721-messaging erc-721-messaging
```

2. Open folder `/erc-721-messaging`

3. Replace Contract Address and chain ID in /tokenscript.xml, example:

```xml
<ts:contract interface="erc721" name="Token">
	<ts:address network="80001">0xe84Be2e18304AcF07ba2f11e37EABC321f4DC6Df</ts:address>
</ts:contract>
```

4. Install TokenScript CLI:

```sh npm2yarn copy
npm i -g @tokenscript/cli
```

5. Run command `npm i` to install all dependencies

6. Run command `npm run build` to build TSML file **out/tokenscript.tsml**

7. Run `tokenscript emulate` to preview your tokenscript in action

8. If TokenScript works as expected then copy file **out/tokenscript.tsml** to some HTTPS hosting and save file URL

Now you can use this URL in tokenscript viewer. Don't forget to replace variables with values **chainId** , **contractAddress** and replace **tokenScriptFileURL** with its value, its URL, where TSML file located.

This is template of TokenScript viewer for your TokenScript file:

```sh
https://viewer-staging.tokenscript.org/?chain=${chainId}&contract=${contractAddress}&tokenscriptUrl=${encodeURIComponent(tokenScriptFileURL)}
```

Thats it, ready for messaging.
